<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Java - My Docs</title>
  

  <link rel="shortcut icon" href="../../../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Java";
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../../js/highlight.pack.js"></script>
  <script src="../../../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> My Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Ambassadors</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../ambassadors/">Home</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Develop</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../">Home</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Api guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../">Home</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/c-thin/">C thin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/cpp-legacy/">Cpp legacy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/cpp/">Cpp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/java-legacy/">Java legacy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/java/">Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/objc-legacy/">Objc legacy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../about/objc/">Objc</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Audio streaming</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../audio-streaming/cpp/">Cpp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../audio-streaming/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Config</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/c-thin/">C thin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/cpp/">Cpp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/java/">Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/objc/">Objc</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Controlpanel</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../controlpanel/c-thin/">C thin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../controlpanel/cpp/">Cpp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../controlpanel/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../controlpanel/java/">Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../controlpanel/objc/">Objc</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Core</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/alljoyn-transports-best-practices/">Alljoyn transports best practices</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/java/">Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/objc/">Objc</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Auto ping</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/auto-ping/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Observer</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/observer/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Propcache</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../core/propcache/">Home</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Events and actions</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../events-and-actions/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Notification</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../notification/c-thin/">C thin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../notification/cpp/">Cpp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../notification/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../notification/java/">Java</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../notification/objc/">Objc</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Onboarding</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Java</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#onboarding-api-guide-java">Onboarding API Guide - Java</a></li>
                
                    <li><a class="toctree-l4" href="#reference-code">Reference code</a></li>
                
                    <li><a class="toctree-l4" href="#setting-up-the-alljoyn-framework">Setting up the AllJoyn framework</a></li>
                
                    <li><a class="toctree-l4" href="#implementing-the-onboarder-application">Implementing the Onboarder Application</a></li>
                
                    <li><a class="toctree-l4" href="#alljoyn-device-state-machine">AllJoyn Device State Machine</a></li>
                
                    <li><a class="toctree-l4" href="#best-practices">Best Practices</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../objc/">Objc</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Api reference</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api-reference/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Ask</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../ask/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../ask/popular/">Popular</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Building</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/thin-linux/">Thin linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/thin-windows/">Thin windows</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Alljoyn js</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/alljoyn-js/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Android</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/android/build-source/">Build source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/android/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Ios osx</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/ios-osx/build-source/">Build source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/ios-osx/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Linux</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/linux/build-source/">Build source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/linux/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/linux/openwrt/">Openwrt</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Windows</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/windows/build-source/">Build source</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../building/windows/">Home</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Debug</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../debug/common-issues/">Common issues</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../debug/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Run sample apps</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/">Home</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/about/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/about/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/about/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/about/windows/">Windows</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Acserver</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/acserver/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/acserver/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/acserver/thin-linux/">Thin linux</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Alljoyn js</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/alljoyn-js/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Basic</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/thin-linux/">Thin linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/thin-windows/">Thin windows</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/basic/windows/">Windows</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Chat</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/thin-linux/">Thin linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/chat/windows/">Windows</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Config</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/config/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/config/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/config/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/config/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/config/thin-linux/">Thin linux</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Controlpanel</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/controlpanel/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/controlpanel/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/controlpanel/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/controlpanel/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/controlpanel/thin-linux/">Thin linux</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Notification</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/notification/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/notification/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/notification/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/notification/linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/notification/thin-linux/">Thin linux</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Observer</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/observer/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Onboarding</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/onboarding/android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/onboarding/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/onboarding/ios-osx/">Ios osx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/onboarding/linux/">Linux</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Test</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/test/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../run-sample-apps/test/sessions/">Sessions</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Tutorial</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/arduino-and-gt202/">Arduino and gt202</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/ios/">Ios</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/thin-app/">Thin app</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/videos/">Videos</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Core</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutorial/core/">Home</a>
        
    </li>

        
    </ul>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Learn</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/architecture/">Architecture</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/glossary/">Glossary</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/use-cases/">Use cases</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Base services</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/">Home</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Audiostreaming</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/audiostreaming/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/audiostreaming/interface/">Interface</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Configuration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/configuration/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/configuration/interface-14-02/">Interface 14 02</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/configuration/interface/">Interface</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Controlpanel</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/controlpanel/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/controlpanel/interface-14-02/">Interface 14 02</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/controlpanel/interface/">Interface</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Notification</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/notification/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/notification/interface-14-02/">Interface 14 02</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/notification/interface/">Interface</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Onboarding</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/onboarding/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/onboarding/interface-14-02/">Interface 14 02</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/base-services/onboarding/interface/">Interface</a>
        
    </li>

        
    </ul>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Core</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/events-and-actions/">Events and actions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/standard-core/">Standard core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/thin-core/">Thin core</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>About announcement</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/about-announcement/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/about-announcement/interface-14-02/">Interface 14 02</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/about-announcement/interface/">Interface</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Rn config</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/rn_config/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Security2 0</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/security2_0/hld/">Hld</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/security2_0/">Home</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>System description</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/advertisement-discovery/">Advertisement discovery</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/alljoyn-security/">Alljoyn security</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/alljoyn-session/">Alljoyn session</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/alljoyn-transport/">Alljoyn transport</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/data-exchange/">Data exchange</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/events-actions/">Events actions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/sessionless-signal/">Sessionless signal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/system-architecture/">System architecture</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../learn/core/system-description/thin-apps/">Thin apps</a>
        
    </li>

        
    </ul>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Project lifecycle</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../project-lifecycle/">Home</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Supported platforms</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../supported-platforms/">Home</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User groups</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../../user-groups/">Home</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">My Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Onboarding &raquo;</li>
        
      
    
    <li>Java</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="onboarding-api-guide-java">Onboarding API Guide - Java</h1>
<h2 id="reference-code">Reference code</h2>
<h3 id="onboarder-application-components">Onboarder application components</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AllJoyn&trade; Standard Library framework</td>
<td><ul><li>alljoyn.jar</li><li>alljoyn_about.jar</li></ul></td>
</tr>
<tr>
<td>Onboarding service framework package</td>
<td><ul><li>alljoyn_onboarding.jar</li><li>alljoyn_onboarding_sdk.jar</li></ul></td>
</tr>
<tr>
<td>SampleApps utility package</td>
<td>alljoyn_apps_android_utils.jar</td>
</tr>
</tbody>
</table>
<h3 id="reference-java-application-code">Reference Java application code</h3>
<table>
<thead>
<tr>
<th>Application</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OnboardingSDKSampleClient</td>
<td>A sample Android application that utilizes the Onboarding SDK to retrieve potential Onboardees and personal APs, and bring an Onboardee on the user's personal AP.</td>
</tr>
</tbody>
</table>
<h2 id="setting-up-the-alljoyn-framework">Setting up the AllJoyn framework</h2>
<p>The steps required for this service framework are universal
to all applications that use the AllJoyn framework and for
any application using one or more AllJoyn service frameworks.
Complete the procedures in the following sections to guide you in this process:</p>
<ul>
<li><a href="../../../../develop/building/android">Building Android</a></li>
<li><a href="../../../../develop/api-guide/about/java">About API Guide</a></li>
</ul>
<h3 id="set-up-the-onboarding-service-framework">Set up the Onboarding service framework</h3>
<p>See the <a href="../../../../develop/building/android">Building Android</a> section for instructions
on compiling the Onboarding SDK.</p>
<h3 id="build-the-onboarder-application">Build the Onboarder application</h3>
<p>The following steps provides the high-level process to build
an Onboarding application on top of the Onboarding SDK.</p>
<ol>
<li>Create the base for the AllJoyn application. See the
[About API Guide][about-api-guide-android] for more information.</li>
<li>Add the Onboarding service framework and SDK components
to your project.</li>
<li>Complete the tasks in <a href="#implementing-the-onboarder-application">Implementing the Onboarder Application</a>.
Review the code reference, or use the SDK sample client as a reference.</li>
</ol>
<h2 id="implementing-the-onboarder-application">Implementing the Onboarder Application</h2>
<h3 id="initialize-the-alljoyn-framework">Initialize the AllJoyn framework</h3>
<p>See the [About API Guide][about-api-guide-android] for instructions to
initialize the AllJoyn framework.</p>
<h4 id="connect-to-the-alljoyn-bus">Connect to the AllJoyn bus</h4>
<pre><code class="java">busAttachment = new BusAttachment(context.getPackageName(),
   BusAttachment.RemoteMessage.Receive);
   busAttachment.connect();
</code></pre>

<h4 id="set-the-alljoyn-router-for-thin-library-connections">Set the AllJoyn router for thin library connections</h4>
<p>Register the BroadcastReceiver object to receive a NETWORK_STATE_CHANGED_ACTION
intent when the Android device connected to a selected AP.</p>
<pre><code class="java">private final static String DEFAULT_PINCODE = &quot;000000&quot;;
/* this step only required if there are thin libraries version 14.02 */
Status pasStatus = PasswordManager.setCredentials(&quot;ALLJOYN_PIN_KEYX&quot;,
   DEFAULT_PINCODE);
routerName = &quot;org.alljoyn.BusNode.d&quot; + busAttachment.getGlobalGUIDString();
int flag = BusAttachment.ALLJOYN_REQUESTNAME_FLAG_DO_NOT_QUEUE;
Status reqStatus = busAttachment.requestName(routerName, flag);
</code></pre>

<h3 id="initialize-the-aboutservice-in-client-mode">Initialize the AboutService in client mode</h3>
<p>The About feature is used to receive Announcement signals.
The AllJoyn device can start announcing itself once the Android
device is connected to a SoftAP of the AllJoyn device.
The Announcement signal provides the information required
for starting the onboarding process.</p>
<p>For additional details, see the [About API Guide][about-api-guide-android].</p>
<pre><code class="java">// Initialize the About service in client mode
AboutService aboutService = AboutServiceImpl.getInstance();
aboutService.startAboutClient(busAttachment);

// Listen to AllJoyn device announcments
aboutService.addAnnouncementHandler(this, new
String[]{OnboardingTransport.INTERFACE_NAME});
</code></pre>

<h3 id="initialize-the-onboarding-manager">Initialize the Onboarding Manager</h3>
<p>Start OnboardingManager and pass it the application's context,
the bus attachment, and the AboutService.</p>
<pre><code class="java">try {
OnboardingManager.getInstance().init(context, aboutService, busAttachment);
} catch (OnboardingIllegalArgumentException e) {
   e.printStackTrace();
} catch (OnboardingIllegalStateException e) {
   e.printStackTrace();
}
</code></pre>

<h3 id="perform-a-wi-fi-scan">Perform a Wi-Fi scan</h3>
<p>The Wi-Fi scan discovers all Wi-Fi networks in the vicinity of
the Android device. The application can then filter out the
potential personal APs and Onboardees.</p>
<pre><code class="java">// Register a broadcast receiver for Wi-Fi scans
BroadcastReceiver wifiReceiver = new BroadcastReceiver() {
   @Override
   public void onReceive(Context context, Intent intent) {
      unregisterReceiver(this);

      // filter the results
      // All the access points that were found
      // OnboardingManager.getInstance().getWifiScanResults(WifiFilter.ALL);

      // Only the potential onboardees
      // OnboardingManager.getInstance().getWifiScanResults(WifiFilter.ONBOARDABLE);

      // Only the potential personal APs
      OnboardingManager.getInstance().getWifiScanResults(WifiFilter.TARGET)
   }
};

IntentFilter wifiFilter = new
IntentFilter(OnboardingManager.WIFI_SCAN_RESULTS_AVAILABLE_ACTION);
registerReceiver(wifiReceiver, wifiFilter);
registerReceiver(wifireceiver, wifiFilter);

// perform the scan
OnboardingManager.getInstance().scanWiFi();
</code></pre>

<h3 id="connect-to-the-onboardees-softap">Connect to the onboardee's SoftAP</h3>
<p>Connect to the SoftAP of the device so that the AllJoyn device
(onboardee) and the Android device (onboarder) are on the same
network and can communicate via the AllJoyn framework.</p>
<p>Use the Android APIs to connect to the SoftAP. Refer to the
Android documentation for more information.</p>
<p>(http://developer.android.com/reference/android/net/wifi/WifiManager.html)</p>
<p>(http://developer.android.com/reference/android/net/wifi/WifiConfiguration.html)</p>
<h3 id="onboard-the-onboardee-to-the-personal-ap">Onboard the onboardee to the personal AP</h3>
<h4 id="create-a-broadcast-receiver">Create a broadcast receiver</h4>
<p>Onboarding is performed asynchronously and the application
is notified of its progress/errors by Android intents.</p>
<p>Register a broadcast receiver to receive onboarding progress
notifications and errors.</p>
<pre><code class="java">BroadcastReceiver mainReceiver = new BroadcastReceiver() {
   public void onReceive(Context context, Intent intent) {
      if (intent.getAction().equals(OnboardingManager.STATE_CHANGE_ACTION)) {
         // The Onboarding Manager reporting its progress.
         // See the Onboarding SDK API doc for list of intent extras.
}
      if (intent.getAction().equals(OnboardingManager.ERROR)) {
         // The Onboarding Manager reporting an error.
         // See the Onboarding SDK API doc for list of errors.

      }
   }
};

mainFilter = new IntentFilter();
mainFilter.addAction(OnboardingManager.STATE_CHANGE_ACTION);
mainFilter.addAction(OnboardingManager.ERROR);

registerReceiver(mainReceiver, mainFilter);
</code></pre>

<h4 id="prepare-the-onboarding-configuration">Prepare the Onboarding configuration</h4>
<pre><code class="java">// Prepare the onboardee data
WiFiNetworkConfiguration onboardee = new WiFiNetworkConfiguration(onboardeeSsid,
   onboardeeAuthType, onboardeePassword);

// Prepare the personal AP data
WiFiNetworkConfiguration target = new WiFiNetworkConfiguration(targetSsid,
   targetAuthType, targetPassword);

// Create the OnboardingConfiguration object
OnboardingConfiguration config = new OnboardingConfiguration(onboardee,
   onboardeeWifiTimeout, onboardeeAnnouncementTimeout, target,
      targetWifiTimeout, targetAnnouncementTimeout);
</code></pre>

<h4 id="call-runonboarding">Call <code>runOnboarding()</code></h4>
<pre><code class="java">try {
   OnboardingManager.getInstance().runOnboarding(config);
} catch (OnboardingIllegalArgumentException e) {
} catch (OnboardingIllegalStateException e) {
} catch (WifiDisabledException e) {
}
</code></pre>

<h4 id="abort-the-onboarding-process">Abort the onboarding process</h4>
<p>The onboarding process can take some time, resulting in possible
connection timeouts. The SDK has an API to enable the application
to abort the process and return to idle state.</p>
<p><strong>NOTE:</strong> Aborting is not possible once the personal AP credentials
have been passed to the onboardee.</p>
<pre><code class="java">try {
   OnboardingManager.getInstance().abortOnboarding();
} catch (OnboardingIllegalStateException e) {
}
</code></pre>

<p>Use the broadcast receiver to monitor the aborting process.</p>
<h3 id="remove-an-alljoyn-device-from-the-personal-ap">Remove an AllJoyn device from the personal AP</h3>
<h4 id="create-a-broadcast-receiver_1">Create a broadcast receiver</h4>
<p>Like with onboarding, offboarding is performed asynchronously
and the application is notified of its progress/errors by Android intents.</p>
<p>Register a broadcast receiver offboarding progress notifications and errors :</p>
<pre><code class="java">BroadcastReceiver mainReceiver = new BroadcastReceiver() {
   public void onReceive(Context context, Intent intent) {

      if (intent.getAction().equals(OnboardingManager.STATE_CHANGE_ACTION)) {
         // The Onboarding Manager reporting its progress.
         // See the Onboarding SDK API doc for list of intent extras.
}
      if (intent.getAction().equals(OnboardingManager.ERROR)) {
         // The Onboarding Manager reporting an error.
         // See the Onboarding SDK API doc for list of errors.

      }
   }
};

mainFilter = new IntentFilter();
mainFilter.addAction(OnboardingManager.STATE_CHANGE_ACTION);
mainFilter.addAction(OnboardingManager.ERROR);

registerReceiver(mainReceiver, mainFilter);
</code></pre>

<h4 id="prepare-the-offboarding-configuration">Prepare the Offboarding configuration</h4>
<pre><code class="java">// Prepare the AJ configuration of the AJ device to be offboarded
OffboardingConfiguration config =
new OffboardingConfiguration(busName,port);
</code></pre>

<h4 id="call-runoffboarding">Call <code>runOffboarding()</code></h4>
<pre><code class="java">try {
   OnboardingManager.getInstance().runOffboarding(config);
   } catch (OnboardingIllegalArgumentException e) {

   } catch (OnboardingIllegalStateException e) {

   } catch (WifiDisabledException e) {
   }
</code></pre>

<h4 id="shutdown">Shutdown</h4>
<p>Once you are done usingthe Onboarding SDK, free the variables
used in the application.</p>
<pre><code class="java">try {
   OnboardingManager.getInstance().shutDown();
   } catch (OnboardingIllegalStateException e) {
      try { OnboardingManager.getInstance().abortOnboarding();
      OnboardingManager.getInstance().shutDown();
   } catch (OnboardingIllegalStateException e1) {
   }
}
</code></pre>

<h2 id="alljoyn-device-state-machine">AllJoyn Device State Machine</h2>
<p>The following figure illustrates the AllJoyn device state during the onboarding process.</p>
<p><img alt="onboarding-state-diagram" src="../../../../files/develop/api-guide/onboarding-state-diagram.png" /></p>
<p><strong>Figure:</strong> Onboarding state diagram</p>
<h3 id="onboarding-process-connection-points">Onboarding process connection points</h3>
<table>
<thead>
<tr>
<th>Field name</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>SoftAP availability</td>
<td><p>SoftAP is available when the device is in any of the following states:</p><ul><li>Personal AP Not Configured</li><li>Personal AP Configured/Not Validated</li><li>Personal AP Configured/Error</li><li>Personal AP Configured/Retry</li></ul></td>
</tr>
<tr>
<td>Automatic connection to validated personal</td>
<td>At startup time, the device will automatically connect to the personal AP if is configured and validated.</td>
</tr>
<tr>
<td>AP Failed connection attempts with personal AP</td>
<td>If the device is in personal AP Configured/Validated state but the device fails to connect after a configurable number of delayed attempts, it will move to state Personal AP Configured/Retry. In this state, the SoftAP is enabled to allow the device to be reconfigured. After a timer expires, the device goes back to the Personal AP Configured/Validated and it will try to connect to the Personal AP again.</td>
</tr>
</tbody>
</table>
<h2 id="best-practices">Best Practices</h2>
<h3 id="onboarder-application">Onboarder application</h3>
<h4 id="filter-the-aps-to-show-just-what-can-be-onboarded">Filter the APs to show just what can be onboarded</h4>
<p>When developing an Onboarder application for Android, use
the Onboarding Manager APIs to perform a Wi-Fi scan and then
automatically filter the results into Onboardees and potential APs.
The UI should only present the Onboardees when allowing
the user to select what to onboard.</p>
<p>On other platforms, when building an Onboarder application,
it is recommended to use the native platform APIs to list
out the nearby Wi-Fi APs. Doing this in a crowded Wi-Fi environment
with many APs presents a challenge for the end user to scroll
through a long list and identify the device to be onboarded.</p>
<p>It is recommended to have the device use "AJ_" as a prefix for
the SSID. As such, the Onboarder application can assume, based
on the SSID, that a device can support the Onboarding service
framework. The UI for the Onboarder application should present
the devices that started with "AJ_" at the top of the list of
nearby devices that can be onboarded.</p>
<h4 id="use-the-wi-fi-scan-list-from-the-device-running-the-onboarder-application">Use the Wi-Fi scan list from the device running the Onboarder application</h4>
<p>When developing an Onboarder application for Android, use the
Onboarding Manager APIs to perform a Wi-Fi scan and then automatically
filter the results into Onboardees and potential APs. The UI
should only present the Onboardees when allowing the user
to select what to onboard.</p>
<p>On other platforms, upon successfully joining and validating
that a device supports the Onboarding service framework, a
platform request should be made to get a list of the nearby APs.
The application should filter out any SSIDs that start with
"AJ_", as these should be Onboardee devices a user's personal AP.
The UI will present the option to select an AP to preconfigure
the SSID and if security on the AP is enabled show an input
for a password/passphrase.</p>
<h4 id="use-the-wi-fi-scan-list-from-the-onboardee-device">Use the Wi-Fi scan list from the Onboardee device</h4>
<p>Once the Wi-Fi list is generated per <a href="#use-wifi-scan-list-onboarder">Use the Wi-Fi scan list
from the device running the Onboarder application</a>, use the 
Onboarding service framework API to request the list of APs
that the Onboardee device can detect.  This will ensure
that the consumer selected/entered AP is detected by both
devices, and that signal strength is sufficient to facilitate a connection.</p>
<p>If the application provides a completely different list than
what the Onboardee device detects, it is recommended to
alert the user upon entering/selecting an AP that the device
being onboarded could potentially be out of range of entered/selected AP.
If the Onboardee application receives an error, show a pop-up
with a suggestion to move the device or AP closer. It should
then continue to send the credentials to the device and wait
for the appropriate response/error messages.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../objc/" class="btn btn-neutral float-right" title="Objc"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../" class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../objc/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
