<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico">

  <title>Home - SmartConn Docs</title>

  <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="../../../../css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="../../../../css/highlight.css" rel="stylesheet">
  <link href="../../../../css/base.css" rel="stylesheet">
  <link href="../../../../css/smartconn.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->

  
</head>

<body>

  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">

    <!-- Collapsed navigation -->
    <div class="navbar-header">
      <!-- Expander button -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <!-- Main title -->
      <a class="navbar-brand" href="../../../..">SmartConn Docs</a>
    </div>

    <!-- Expanded navigation -->
    <div class="navbar-collapse collapse">
      <!-- Main navigation -->
      <ul class="nav navbar-nav">
        <li class="active">
          <a href="/docs">Docs</a>
        </li>
      </ul>

      <!-- Search, Navigation and Repo links -->
      <ul class="nav navbar-nav navbar-right">
        <li >
          <a rel="next" href="../auto-ping/">
            <i class="fa fa-arrow-left"></i> Previous
          </a>
        </li>
        <li >
          <a rel="prev" href="../propcache/">
            Next <i class="fa fa-arrow-right"></i>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</div>

  <div class="container">
    <div class="col-md-3"><!-- <div class="bs-sidebar hidden-print affix well" role="complementary">
  <ul class="nav bs-sidenav">
    
      
        <li >
          <a href="../../../..">Home</a>
        </li>
      
    
      
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ambassadors <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../../ambassadors/">Home</a>
              </li>
            
          </ul>
        </li>
      
    
      
        <li class="dropdown active">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Develop <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../">Home</a>
              </li>
            
              <li class="active">
                <a href="">Api guide</a>
              </li>
            
              <li >
                <a href="">Api reference</a>
              </li>
            
              <li >
                <a href="">Ask</a>
              </li>
            
              <li >
                <a href="">Building</a>
              </li>
            
              <li >
                <a href="">Debug</a>
              </li>
            
              <li >
                <a href="">Run sample apps</a>
              </li>
            
              <li >
                <a href="">Tutorial</a>
              </li>
            
          </ul>
        </li>
      
    
      
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Learn <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../../learn/architecture/">Architecture</a>
              </li>
            
              <li >
                <a href="../../../../learn/glossary/">Glossary</a>
              </li>
            
              <li >
                <a href="../../../../learn/">Home</a>
              </li>
            
              <li >
                <a href="../../../../learn/use-cases/">Use cases</a>
              </li>
            
              <li >
                <a href="">Base services</a>
              </li>
            
              <li >
                <a href="">Core</a>
              </li>
            
          </ul>
        </li>
      
    
      
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project lifecycle <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../../project-lifecycle/">Home</a>
              </li>
            
          </ul>
        </li>
      
    
      
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Supported platforms <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../../supported-platforms/">Home</a>
              </li>
            
          </ul>
        </li>
      
    
      
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">User groups <b class="caret"></b></a>
          <ul class="dropdown-menu">
            
              <li >
                <a href="../../../../user-groups/">Home</a>
              </li>
            
          </ul>
        </li>
      
    
  </ul>
</div> -->

<div class="bs-sidebar hidden-print well" role="complementary">
  <ul class="nav bs-sidenav">
    
      
  <li class="main ">
    <a href="../../../..">Home</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../ambassadors/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../">Home</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../">Home</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../about/c-thin/">C thin</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/cpp-legacy/">Cpp legacy</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/cpp/">Cpp</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/java-legacy/">Java legacy</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/objc-legacy/">Objc legacy</a>
  </li>

    
      
  <li class="main ">
    <a href="../../about/objc/">Objc</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../audio-streaming/cpp/">Cpp</a>
  </li>

    
      
  <li class="main ">
    <a href="../../audio-streaming/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../config/c-thin/">C thin</a>
  </li>

    
      
  <li class="main ">
    <a href="../../config/cpp/">Cpp</a>
  </li>

    
      
  <li class="main ">
    <a href="../../config/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../config/java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../../config/objc/">Objc</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../controlpanel/c-thin/">C thin</a>
  </li>

    
      
  <li class="main ">
    <a href="../../controlpanel/cpp/">Cpp</a>
  </li>

    
      
  <li class="main ">
    <a href="../../controlpanel/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../controlpanel/java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../../controlpanel/objc/">Objc</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../alljoyn-transports-best-practices/">Alljoyn transports best practices</a>
  </li>

    
      
  <li class="main ">
    <a href="../">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../objc/">Objc</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../auto-ping/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main active">
    <a href="./">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../propcache/">Home</a>
  </li>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../events-and-actions/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../notification/c-thin/">C thin</a>
  </li>

    
      
  <li class="main ">
    <a href="../../notification/cpp/">Cpp</a>
  </li>

    
      
  <li class="main ">
    <a href="../../notification/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../notification/java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../../notification/objc/">Objc</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../onboarding/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../onboarding/java/">Java</a>
  </li>

    
      
  <li class="main ">
    <a href="../../onboarding/objc/">Objc</a>
  </li>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../api-reference/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../ask/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../ask/popular/">Popular</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/thin-linux/">Thin linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/thin-windows/">Thin windows</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/alljoyn-js/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/android/build-source/">Build source</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/android/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/ios-osx/build-source/">Build source</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/ios-osx/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/linux/build-source/">Build source</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/linux/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/linux/openwrt/">Openwrt</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../building/windows/build-source/">Build source</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../building/windows/">Home</a>
  </li>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../debug/common-issues/">Common issues</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../debug/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/">Home</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/about/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/about/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/about/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/about/windows/">Windows</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/acserver/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/acserver/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/acserver/thin-linux/">Thin linux</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/alljoyn-js/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/thin-linux/">Thin linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/thin-windows/">Thin windows</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/basic/windows/">Windows</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/thin-linux/">Thin linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/chat/windows/">Windows</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/config/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/config/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/config/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/config/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/config/thin-linux/">Thin linux</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/controlpanel/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/controlpanel/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/controlpanel/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/controlpanel/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/controlpanel/thin-linux/">Thin linux</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/notification/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/notification/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/notification/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/notification/linux/">Linux</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/notification/thin-linux/">Thin linux</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/observer/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/onboarding/android/">Android</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/onboarding/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/onboarding/ios-osx/">Ios osx</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/onboarding/linux/">Linux</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../run-sample-apps/test/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../run-sample-apps/test/sessions/">Sessions</a>
  </li>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../tutorial/arduino-and-gt202/">Arduino and gt202</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../tutorial/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../tutorial/ios/">Ios</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../tutorial/thin-app/">Thin app</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../tutorial/videos/">Videos</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../tutorial/core/">Home</a>
  </li>

    
  </ul>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/architecture/">Architecture</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/glossary/">Glossary</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/use-cases/">Use cases</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/">Home</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/audiostreaming/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/audiostreaming/interface/">Interface</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/configuration/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/configuration/interface-14-02/">Interface 14 02</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/configuration/interface/">Interface</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/controlpanel/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/controlpanel/interface-14-02/">Interface 14 02</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/controlpanel/interface/">Interface</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/notification/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/notification/interface-14-02/">Interface 14 02</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/notification/interface/">Interface</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/base-services/onboarding/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/onboarding/interface-14-02/">Interface 14 02</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/base-services/onboarding/interface/">Interface</a>
  </li>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/core/events-and-actions/">Events and actions</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/standard-core/">Standard core</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/thin-core/">Thin core</a>
  </li>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/core/about-announcement/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/about-announcement/interface-14-02/">Interface 14 02</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/about-announcement/interface/">Interface</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/core/rn_config/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/core/security2_0/hld/">Hld</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/security2_0/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/advertisement-discovery/">Advertisement discovery</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/alljoyn-security/">Alljoyn security</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/alljoyn-session/">Alljoyn session</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/alljoyn-transport/">Alljoyn transport</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/data-exchange/">Data exchange</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/events-actions/">Events actions</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/">Home</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/sessionless-signal/">Sessionless signal</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/system-architecture/">System architecture</a>
  </li>

    
      
  <li class="main ">
    <a href="../../../../learn/core/system-description/thin-apps/">Thin apps</a>
  </li>

    
  </ul>

    
  </ul>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../project-lifecycle/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../supported-platforms/">Home</a>
  </li>

    
  </ul>

    
      
  <ul>
    
      
  <li class="main ">
    <a href="../../../../user-groups/">Home</a>
  </li>

    
  </ul>

    
  </ul>
</div></div>
    <div class="col-md-8" role="main">

<h1 id="introduction">Introduction</h1>
<p>The Observer feature is a new API concept that was introduced in release 15.04.
The Observer is a convenience API that aims to simplify the task of discovering
all objects on the bus that implement a given set of interfaces, and interacting
with those objects.</p>
<p>In a nutshell, it handles:</p>
<ul>
<li>About notifications (calling <code>BusAttachment::WhoImplements</code>, installing
    <code>AboutListener</code>s, interpreting <code>AboutListener::Announced</code> messages, ...)</li>
<li>session and presence management (setting up sessions with peers hosting bus
    objects of interest, periodic ping requests to check whether the peer is
    still present on the bus, ...)</li>
<li>ProxyBusObject creation and bookkeeping</li>
</ul>
<p>on behalf of the application.</p>
<p>As is evident from the above summary, the Observer is a consumer-side
(client-side) API for AllJoyn: it is designed to facilitate the consumption of
information or services offered by peers on the AllJoyn bus, not to aid your
application in exposing functionality of its own.</p>
<h2 id="when-to-use-an-observer">When to Use an Observer</h2>
<p>The Observer API is most useful if you're interested in <em>all</em> bus objects that
implement a given set of interfaces. The Observer will automatically maintain a
session with each peer that hosts at least one bus object implementing the set
of interfaces.</p>
<p>The Observer lends itself well to a publish-subscribe-like approach to AllJoyn
interaction. The set of interfaces the Observer looks for can be considered the
"topic" the application is subscribed to. The Observer offers notifications to
inform the application that "instances" (bus objects implementing the set of
interfaces) have appeared on the topic, or have disappeared from the topic. The
<code>ProxyBusObject::PropertiesChangedListener</code> mechanism can be used to subscribe
to notifications of state updates for the topic instances (i.e., property value
updates for the discovered bus objects).</p>
<p>If the interaction model of your application is more service-oriented, i.e. the
application enumerates all peers that offer a given service, selects one, and
then interacts exclusively with the selected peer, the Observer API is probably
not for you. Manual About discovery and session management will be more
efficient, albeit less convenient, in this case.</p>
<h1 id="usage">Usage</h1>
<p>The Observer API is currently available in four language bindings:</p>
<ul>
<li>C++</li>
<li>C</li>
<li>Java</li>
<li>Objective-C (iOS &amp; Mac OS X)</li>
</ul>
<p>The API is very similar in all language bindings. Please refer to the respective
<a href="../../../../develop/api-reference">API references</a> for the language bindings for details on Observer
usage in the various supported programming languages. In this guide, we'll limit
ourselves mainly to the C++ language binding.</p>
<h2 id="creating-an-observer">Creating an Observer</h2>
<p>To create an Observer, you need to supply a BusAttachment and the minimal set of
interfaces bus objects must implement to be considered eligible for discovery by
the Observer.</p>
<p><strong>Note:</strong> the interface names passed to the Observer must correspond with
interfaces that have previously been registered with the BusAttachment (via
<code>BusAttachment::CreateInterface</code> and <code>InterfaceDescription::Activate</code>). If this
is not the case, the Observer creation will fail silently, and the Observer will
not discover any objects on the bus.</p>
<pre><code class="cpp">BusAttachment bus;
const char* mandatory[] = { &quot;org.alljoyn.example.Foo&quot;, &quot;org.alljoyn.example.Bar&quot; };

Observer obs(bus, mandatory, sizeof(mandatory)/sizeof(mandatory[0]));
</code></pre>

<p>It is possible to create different Observers side-by-side, even Observers that
have the same set of mandatory interfaces pose no problem.</p>
<p>Once created, the Observer will monitor the About announcements emitted by the
peers on the bus for objects that implement at least the set of mandatory
interfaces. The Observer will set up a session with peers that host at least one
such bus object, and create <code>ProxyBusObject</code>s for each of the discovered
objects. These <code>ProxyBusObject</code> instances have support for <em>all</em> discovered
interfaces in the remote object, not just the mandatory interfaces.</p>
<p><strong>Note:</strong> due to the design of the Java language binding, it is not possible to
make the Java <code>ProxyBusObject</code>s support all interfaces in the discovered object.
Therefore, the Java Observer constructor allows you to pass in a second set of
interfaces, the so-called <em>optional</em> interfaces. The <code>ProxyBusObject</code>s created
by the Java Observer will support all mandatory interfaces, and those optional
interfaces that are implemented by the corresponding remote object.</p>
<h2 id="getting-notifications-for-discovered-and-lost-objects">Getting Notifications for Discovered and Lost Objects</h2>
<p>The Observer supports asynchronous notification of applications via the
<code>Observer::Listener</code> class. The listener defines two callbacks:</p>
<ul>
<li><code>ObjectDiscovered(ProxyBusObject&amp; proxy)</code> is invoked whenever a new remote
    object is discovered. The proxy object that is passed along into this
    callback can be used for the registration of PropertiesChanged listeners.
    The Observer will keep this proxy object around until the corresponding
    remote object is removed from the bus.</li>
<li><code>ObjectLost(ProxyBusObject&amp; proxy)</code> is invoked whenever a previously
    discovered object is lost. Objects are considered lost if
    the peer that hosts them issues an About announcement that no longer
    includes that object, if the session to the hosting peer is
    lost, or if that peer becomes unresponsive to ping requests.</li>
</ul>
<p>It is possible to register multiple listeners to a single Observer. To register
a listener, call <code>Observer::RegisterListener</code>. This method takes two parameters:
a reference to the listener object, and an optional boolean parameter (true by
default) that states whether the application wants to receive notifications for
already-discovered objects.</p>
<p>The latter parameter is necessary because it is possible that the Observer has
already discovered various remote objects in the time window between its
construction and the registration of the first listener.</p>
<pre><code class="cpp">class MyListener : public Observer::Listener {
  public:
    virtual void ObjectDiscovered(ProxyBusObject&amp; proxy) {
        std::cout &lt;&lt; &quot;Discovered object with path &quot; &lt;&lt; proxy.GetPath();
        std::cout &lt;&lt; &quot; from peer &quot; &lt;&lt; proxy.GetUniqueName() &lt;&lt; std::endl;
    }
    virtual void ObjectLost(ProxyBusObject&amp; proxy) {
        std::cout &lt;&lt; &quot;Lost object with path &quot; &lt;&lt; proxy.GetPath();
        std::cout &lt;&lt; &quot; from peer &quot; &lt;&lt; proxy.GetUniqueName() &lt;&lt; std::endl;
    }
};

MyListener listener;
obs.RegisterListener(listener, true);

/* ... */

/* when you're done, there are two ways to unregister a listener */
obs.UnregisterListener(listener);
/* or, alternatively */
obs.UnregisterAllListeners();
</code></pre>

<h2 id="retrieving-a-specific-proxy-object">Retrieving a Specific Proxy Object</h2>
<p>Between the invocation of <code>Observer::Listener::ObjectDiscovered</code> and
<code>Observer::Listener::ObjectLost</code> for the same <code>ProxyBusObject</code>, the Observer
keeps a reference to that proxy object around internally. You can iterate over
all proxies in the Observer (discussed later), or retrieve a specific proxy
object.</p>
<p>A remote object is uniquely identified by the pair (unique bus name, object
path). In the C++ language binding, the <code>ajn::ObjectId</code> type encapsulates this
pair in a convenient class.</p>
<p>To retrieve a specific proxy object from the Observer, call
<code>Observer::Get(ObjectId id)</code>.</p>
<pre><code class="cpp">ProxyBusObject proxy = obs.Get(ObjectId(unique_name, &quot;/some/path&quot;));
if (proxy.IsValid()) {
    // OK, the Observer knows about an object with this identity
} else {
    // ouch, the Observer does not know an object with this identity
}
</code></pre>

<h2 id="iterating-over-all-discovered-objects">Iterating Over All Discovered Objects</h2>
<p>To iterate over all discovered objects, use the <code>Observer::GetFirst()</code> and
<code>Observer::GetNext()</code> methods.</p>
<pre><code class="cpp">for (ProxyBusObject iter = obs.GetFirst(); iter.IsValid(); iter = obs.GetNext(iter)) {
    // do something fun with the proxy
}
</code></pre>

<h1 id="best-practices">Best Practices</h1>
<h2 id="threading-model">Threading Model</h2>
<p>All <code>Observer::Listener</code> callbacks are invoked from the BusAttachment's
dispatcher threads, as is the case for all other application-facing callbacks in
the AllJoyn framework (asynchronous method replies, session listener callbacks,
etc.). If you want to perform a blocking or long-running operation in a
callback, you should first call <code>BusAttachment::EnableConcurrentCallbacks</code>.</p>
<p>The Observer has been designed in such a way that it is never possible to have
two ObserverListener callbacks in flight at the same time, not even callbacks
from different listeners associated with different Observer instances.</p>
<h2 id="service-side-requirements">Service-side Requirements</h2>
<p>The Observer functionality only works well if the service side (i.e. the peer
that provides the bus object) plays along nicely. The requirements on the
service side are simple:</p>
<ul>
<li>announce bus objects and their interfaces through About</li>
<li>keep your application's About announcements up to date: if bus objects are
    registered or unregistered, be sure to do the appropriate re-announcement</li>
<li>accept sessions on the session port your application announces in About. The
    Observer will attempt to establish a point-to-point session on that port. If
    that fails, the Observer will ignore the bus objects your application
    announces.</li>
</ul></div>
    <div class="col-md-1"><div class="bs-sidebar hidden-print affix well" role="complementary">
  <ul class="nav bs-sidenav">
    
      <li class="main active"><a href="#introduction">Introduction</a></li>
      
        <li><a href="#when-to-use-an-observer">When to Use an Observer</a></li>
      
    
      <li class="main "><a href="#usage">Usage</a></li>
      
        <li><a href="#creating-an-observer">Creating an Observer</a></li>
      
        <li><a href="#getting-notifications-for-discovered-and-lost-objects">Getting Notifications for Discovered and Lost Objects</a></li>
      
        <li><a href="#retrieving-a-specific-proxy-object">Retrieving a Specific Proxy Object</a></li>
      
        <li><a href="#iterating-over-all-discovered-objects">Iterating Over All Discovered Objects</a></li>
      
    
      <li class="main "><a href="#best-practices">Best Practices</a></li>
      
        <li><a href="#threading-model">Threading Model</a></li>
      
        <li><a href="#service-side-requirements">Service-side Requirements</a></li>
      
    
  </ul>
</div></div>
  </div>

  <footer class="col-md-12">
    <hr>
    
    <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
  </footer>

  <script src="../../../../js/jquery-1.10.2.min.js"></script>
  <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../../../js/highlight.pack.js"></script>
  <script src="../../../../js/base.js"></script>
</body>
</html>